<!DOCTYPE html>
<html lang="">
<head>
    <link rel="stylesheet" href="./stylesheet/password_forgot.css">
</head>

<body>
    <div class ='forgetPassword'>
        <form id="resetPassword" >
            <div class ='text'>
                <h4>Enter your Email address</h4>
                <div class = 'Email-auth'>
                    <input type="email" id="email" name="email">
                    <button id ='emailSubmit' type="button">Getcode</button>
                </div>
            </div>
            <div class="text">
                <h2 >Enter your Phone Number</h2>
                <div class="phoneNumber">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                </div>
                <button id ='Getcode' type="button" disabled>Get code</button>
            </div>
            <div class='h-inputs'>
                <h3>Enter Password that sent to you</h3>
                <div class="code-inputs">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                    <input type="text" maxlength="1" oninput="moveFocus(this,'next')">
                </div>
            </div>
            <button id="submit" type="button" disabled >Submit</button>
            <div id='errorMessage'></div>
        </form>
    </div>
    <script src = 'javascripts/forget-password.js'></script>
    <script>
        function moveFocus(currentInput,next){
            if(currentInput.value.length ===currentInput.maxLength ){
                const nextInput = currentInput.nextElementSibling;
                if (nextInput){
                    nextInput.focus();
                }
                else{
                    const phoneInputs = document.querySelectorAll('.phoneNumber input');
                    let allfield = true;
                    phoneInputs.forEach(input=>{
                        if(input.value.length !== input.maxLength){
                            allfield=false;
                        }
                    if (allfield){
                        document.getElementById('Getcode').disabled = false;
                    }
                    })
                    const codeInputs = document.querySelectorAll('.code-inputs input');
                    let allCodeFilled = true;
                    codeInputs.forEach(input=>{
                        if(input.value.length !== input.maxLength){
                            allCodeFilled=false;
                        }
                    });
                    if (allCodeFilled){
                        document.getElementById("submit").disabled = false; // Enable "Submit" button
                    }
                }
                
            }
        }
    </script>
</body>
</html>